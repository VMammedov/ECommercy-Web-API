2023-02-26 12:02:43.546 +04:00 [INF] User profile is available. Using 'C:\Users\vusal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-26 12:02:43.855 +04:00 [INF] Now listening on: https://localhost:7275
2023-02-26 12:02:43.857 +04:00 [INF] Now listening on: http://localhost:5275
2023-02-26 12:02:43.861 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-26 12:02:43.863 +04:00 [INF] Hosting environment: Development
2023-02-26 12:02:43.866 +04:00 [INF] Content root path: C:\Users\vusal\source\repos\E-CommercialAPI\E-CommercialAPI.API\
2023-02-26 12:02:47.273 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-02-26 12:02:47.957 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 683.3059ms
2023-02-26 12:02:48.068 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - -
2023-02-26 12:02:48.081 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 12.1831ms
2023-02-26 12:02:48.211 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_vs/browserLink - -
2023-02-26 12:02:48.250 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.3562ms
2023-02-26 12:02:49.018 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-02-26 12:02:50.232 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1213.7659ms
2023-02-26 13:31:40.239 +04:00 [INF] User profile is available. Using 'C:\Users\vusal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-26 13:31:40.605 +04:00 [INF] Now listening on: https://localhost:7275
2023-02-26 13:31:40.609 +04:00 [INF] Now listening on: http://localhost:5275
2023-02-26 13:31:40.618 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-26 13:31:40.621 +04:00 [INF] Hosting environment: Development
2023-02-26 13:31:40.624 +04:00 [INF] Content root path: C:\Users\vusal\source\repos\E-CommercialAPI\E-CommercialAPI.API\
2023-02-26 13:31:41.867 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-02-26 13:31:42.419 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 560.0559ms
2023-02-26 13:31:42.490 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - -
2023-02-26 13:31:42.498 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 7.7001ms
2023-02-26 13:31:42.541 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_vs/browserLink - -
2023-02-26 13:31:42.566 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.1676ms
2023-02-26 13:31:42.813 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-02-26 13:31:42.967 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.2760ms
2023-02-26 13:48:21.070 +04:00 [INF] User profile is available. Using 'C:\Users\vusal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-26 13:48:21.734 +04:00 [INF] Now listening on: https://localhost:7275
2023-02-26 13:48:21.736 +04:00 [INF] Now listening on: http://localhost:5275
2023-02-26 13:48:21.741 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-26 13:48:21.742 +04:00 [INF] Hosting environment: Development
2023-02-26 13:48:21.743 +04:00 [INF] Content root path: C:\Users\vusal\source\repos\E-CommercialAPI\E-CommercialAPI.API\
2023-02-26 13:48:22.305 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-02-26 13:48:22.789 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 486.9044ms
2023-02-26 13:48:22.885 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - -
2023-02-26 13:48:22.886 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_vs/browserLink - -
2023-02-26 13:48:22.893 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 8.0783ms
2023-02-26 13:48:22.928 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.2035ms
2023-02-26 13:48:23.504 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-02-26 13:48:23.622 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.6901ms
2023-02-26 14:06:16.300 +04:00 [INF] User profile is available. Using 'C:\Users\vusal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-26 14:06:16.603 +04:00 [INF] Now listening on: https://localhost:7275
2023-02-26 14:06:16.606 +04:00 [INF] Now listening on: http://localhost:5275
2023-02-26 14:06:16.616 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-26 14:06:16.619 +04:00 [INF] Hosting environment: Development
2023-02-26 14:06:16.621 +04:00 [INF] Content root path: C:\Users\vusal\source\repos\E-CommercialAPI\E-CommercialAPI.API\
2023-02-26 14:06:17.085 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-02-26 14:06:17.533 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 455.1770ms
2023-02-26 14:06:17.607 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - -
2023-02-26 14:06:17.607 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_vs/browserLink - -
2023-02-26 14:06:17.613 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 5.6809ms
2023-02-26 14:06:17.627 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.2611ms
2023-02-26 14:06:18.493 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-02-26 14:06:18.713 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 219.8420ms
2023-02-26 14:06:58.618 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/User/Login application/json 63
2023-02-26 14:06:58.664 +04:00 [INF] CORS policy execution failed.
2023-02-26 14:06:58.669 +04:00 [INF] Request origin https://localhost:7275 does not have permission to access the resource.
2023-02-26 14:06:58.709 +04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2023-02-26 14:06:58.721 +04:00 [INF] Executing endpoint 'E_CommercialAPI.API.Controllers.UserController.Login (E-CommercialAPI.API)'
2023-02-26 14:06:58.840 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_CommercialAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller E_CommercialAPI.API.Controllers.UserController (E-CommercialAPI.API).
2023-02-26 14:07:03.616 +04:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommercialAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2023-02-26 14:07:04.756 +04:00 [INF] Executed DbCommand (222ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameLastname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-02-26 14:07:04.817 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameLastname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-02-26 14:07:04.874 +04:00 [INF] Executed action E_CommercialAPI.API.Controllers.UserController.Login (E-CommercialAPI.API) in 6012.1453ms
2023-02-26 14:07:04.881 +04:00 [INF] Executed endpoint 'E_CommercialAPI.API.Controllers.UserController.Login (E-CommercialAPI.API)'
2023-02-26 14:07:04.891 +04:00 [ERR] An unhandled exception has occurred while executing the request.
E_CommercialAPI.Application.Exceptions.NotFoundUserException: There is no user like it.
   at E_CommercialAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\vusal\source\repos\E-CommercialAPI\E-CommercialAPI.Application\Features\Commands\User\LoginUser\LoginUserCommandHandler.cs:line 35
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at E_CommercialAPI.API.Controllers.UserController.Login(LoginUserCommandRequest request) in C:\Users\vusal\source\repos\E-CommercialAPI\E-CommercialAPI.API\Controllers\UserController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\vusal\source\repos\E-CommercialAPI\E-CommercialAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-02-26 14:07:05.367 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/User/Login application/json 63 - 500 - text/plain;+charset=utf-8 6748.4878ms
2023-02-26 14:07:17.792 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/User/Login application/json 60
2023-02-26 14:07:17.795 +04:00 [INF] CORS policy execution failed.
2023-02-26 14:07:17.796 +04:00 [INF] Request origin https://localhost:7275 does not have permission to access the resource.
2023-02-26 14:07:17.797 +04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2023-02-26 14:07:17.799 +04:00 [INF] Executing endpoint 'E_CommercialAPI.API.Controllers.UserController.Login (E-CommercialAPI.API)'
2023-02-26 14:07:17.800 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_CommercialAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller E_CommercialAPI.API.Controllers.UserController (E-CommercialAPI.API).
2023-02-26 14:07:17.864 +04:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommercialAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2023-02-26 14:07:17.872 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameLastname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-02-26 14:07:18.726 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameLastname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-02-26 14:07:18.751 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameLastname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-02-26 14:07:19.372 +04:00 [INF] Executed DbCommand (100ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameLastname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-02-26 14:07:19.475 +04:00 [INF] Executing OkObjectResult, writing value of type 'E_CommercialAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2023-02-26 14:07:19.506 +04:00 [INF] Executed action E_CommercialAPI.API.Controllers.UserController.Login (E-CommercialAPI.API) in 1703.9204ms
2023-02-26 14:07:19.513 +04:00 [INF] Executed endpoint 'E_CommercialAPI.API.Controllers.UserController.Login (E-CommercialAPI.API)'
2023-02-26 14:07:19.520 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/User/Login application/json 60 - 200 - application/json;+charset=utf-8 1728.2601ms
2023-02-26 14:07:42.958 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Products - -
2023-02-26 14:07:43.023 +04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2023-02-26 14:07:43.096 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-02-26 14:07:43.104 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-02-26 14:07:43.107 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Products - - - 401 0 - 149.0211ms
2023-02-26 14:07:47.412 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/api/Products - -
2023-02-26 14:07:47.417 +04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2023-02-26 14:07:47.424 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-02-26 14:07:47.429 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-02-26 14:07:47.434 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/api/Products - - - 401 0 - 22.6884ms
2023-02-26 14:08:09.041 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7275/api/Products - -
2023-02-26 14:08:09.204 +04:00 [INF] Executing endpoint 'E_CommercialAPI.API.Controllers.ProductsController.Get (E-CommercialAPI.API)'
2023-02-26 14:08:09.216 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(E_CommercialAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller E_CommercialAPI.API.Controllers.ProductsController (E-CommercialAPI.API).
2023-02-26 14:08:09.264 +04:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommercialAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2023-02-26 14:08:09.385 +04:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-02-26 14:08:09.488 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-02-26 14:08:09.493 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-02-26 14:08:09.554 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Price", p."Stock", p."CreatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2023-02-26 14:08:09.586 +04:00 [INF] Executing OkObjectResult, writing value of type 'E_CommercialAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2023-02-26 14:08:09.620 +04:00 [INF] Executed action E_CommercialAPI.API.Controllers.ProductsController.Get (E-CommercialAPI.API) in 399.2579ms
2023-02-26 14:08:09.626 +04:00 [INF] Executed endpoint 'E_CommercialAPI.API.Controllers.ProductsController.Get (E-CommercialAPI.API)'
2023-02-26 14:08:09.631 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7275/api/Products - - - 200 - application/json;+charset=utf-8 590.0009ms
2023-02-26 14:13:14.817 +04:00 [INF] User profile is available. Using 'C:\Users\vusal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-26 14:13:15.197 +04:00 [INF] Now listening on: https://localhost:7275
2023-02-26 14:13:15.202 +04:00 [INF] Now listening on: http://localhost:5275
2023-02-26 14:13:15.209 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-26 14:13:15.213 +04:00 [INF] Hosting environment: Development
2023-02-26 14:13:15.214 +04:00 [INF] Content root path: C:\Users\vusal\source\repos\E-CommercialAPI\E-CommercialAPI.API\
2023-02-26 14:13:15.435 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-02-26 14:13:15.786 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 359.3746ms
2023-02-26 14:13:15.826 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_vs/browserLink - -
2023-02-26 14:13:15.826 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - -
2023-02-26 14:13:15.835 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 9.2287ms
2023-02-26 14:13:15.856 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.8356ms
2023-02-26 14:13:16.507 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-02-26 14:13:16.756 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.7377ms
2023-02-26 14:16:22.535 +04:00 [INF] User profile is available. Using 'C:\Users\vusal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-26 14:16:22.908 +04:00 [INF] Now listening on: https://localhost:7275
2023-02-26 14:16:22.914 +04:00 [INF] Now listening on: http://localhost:5275
2023-02-26 14:16:22.930 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-26 14:16:22.933 +04:00 [INF] Hosting environment: Development
2023-02-26 14:16:22.963 +04:00 [INF] Content root path: C:\Users\vusal\source\repos\E-CommercialAPI\E-CommercialAPI.API\
2023-02-26 14:16:23.514 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-02-26 14:16:23.863 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 200 - text/html;charset=utf-8 355.4535ms
2023-02-26 14:16:23.907 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_vs/browserLink - -
2023-02-26 14:16:23.907 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - -
2023-02-26 14:16:23.913 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 6.8294ms
2023-02-26 14:16:23.932 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.5038ms
2023-02-26 14:16:24.784 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - -
2023-02-26 14:16:25.009 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 224.4332ms
2023-02-26 14:17:48.090 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7275/api/User/Login application/json 60
2023-02-26 14:17:48.123 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/User/Login
Accept: */*
Host: localhost:7275
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-GB,en
Content-Type: application/json
Cookie: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 60
sec-ch-ua: "Chromium";v="110", "Not A(Brand";v="24", "Brave";v="110"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-02-26 14:17:48.151 +04:00 [INF] CORS policy execution failed.
2023-02-26 14:17:48.156 +04:00 [INF] Request origin https://localhost:7275 does not have permission to access the resource.
2023-02-26 14:17:48.263 +04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2023-02-26 14:17:48.275 +04:00 [INF] Executing endpoint 'E_CommercialAPI.API.Controllers.UserController.Login (E-CommercialAPI.API)'
2023-02-26 14:17:48.351 +04:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(E_CommercialAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller E_CommercialAPI.API.Controllers.UserController (E-CommercialAPI.API).
2023-02-26 14:17:48.430 +04:00 [INF] RequestBody: {
  "usernameOrEmail": "testuser",
  "password": "test123"
}
2023-02-26 14:17:52.172 +04:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommercialAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2023-02-26 14:17:53.495 +04:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameLastname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-02-26 14:17:54.293 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameLastname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-02-26 14:17:54.329 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameLastname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-02-26 14:17:54.678 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameLastname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-02-26 14:17:54.785 +04:00 [INF] Executing OkObjectResult, writing value of type 'E_CommercialAPI.Application.Features.Commands.User.LoginUser.LoginUserCommandResponse'.
2023-02-26 14:17:54.804 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-02-26 14:17:54.828 +04:00 [INF] Executed action E_CommercialAPI.API.Controllers.UserController.Login (E-CommercialAPI.API) in 6453.8252ms
2023-02-26 14:17:54.834 +04:00 [INF] Executed endpoint 'E_CommercialAPI.API.Controllers.UserController.Login (E-CommercialAPI.API)'
2023-02-26 14:17:54.842 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiVGVzdFVzZXIiLCJuYmYiOjE2Nzc0MDY2NzMsImV4cCI6MTY3NzQwNjk3MywiaXNzIjoid3d3Lm15YXBpLmNvbSIsImF1ZCI6Ind3dy5iaWxtZW1uZS5jb20ifQ.e39yfTcFtehud0KvZQTNLCR4aSJsJ9wmF7ybxgseGiM","expiration":"2023-02-26T10:22:53.9825214Z","refreshToken":"4PS3nRNUUtyb2A4aD9cMcFazQDmrZm2avLsnHGuXD44="}}
2023-02-26 14:17:54.867 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7275/api/User/Login application/json 60 - 200 - application/json;+charset=utf-8 6776.8990ms
2023-02-26 14:18:27.093 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7275/api/Products - -
2023-02-26 14:18:27.099 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: https
PathBase: 
Path: /api/Products
Accept: */*
Connection: keep-alive
Host: localhost:7275
User-Agent: PostmanRuntime/7.29.2
Accept-Encoding: gzip, deflate, br
Authorization: [Redacted]
Postman-Token: [Redacted]
2023-02-26 14:18:27.317 +04:00 [INF] Executing endpoint 'E_CommercialAPI.API.Controllers.ProductsController.Get (E-CommercialAPI.API)'
2023-02-26 14:18:27.328 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(E_CommercialAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller E_CommercialAPI.API.Controllers.ProductsController (E-CommercialAPI.API).
2023-02-26 14:18:27.471 +04:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommercialAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: None
2023-02-26 14:18:27.526 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-02-26 14:18:27.555 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-02-26 14:18:27.559 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-02-26 14:18:27.607 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Price", p."Stock", p."CreatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2023-02-26 14:18:27.633 +04:00 [INF] Executing OkObjectResult, writing value of type 'E_CommercialAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2023-02-26 14:18:27.660 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-02-26 14:18:27.668 +04:00 [INF] Executed action E_CommercialAPI.API.Controllers.ProductsController.Get (E-CommercialAPI.API) in 334.5525ms
2023-02-26 14:18:27.675 +04:00 [INF] Executed endpoint 'E_CommercialAPI.API.Controllers.ProductsController.Get (E-CommercialAPI.API)'
2023-02-26 14:18:27.680 +04:00 [INF] ResponseBody: {"totalCount":3,"products":[{"id":"7a04076f-6158-4745-bc80-b9b1b892e75d","name":"Product 3","stock":30,"price":100,"createdDate":"2022-09-13T08:24:58.793044Z"},{"id":"0e339ab7-3c2d-46cb-9574-9fac95738ec3","name":"Test","stock":20,"price":150,"createdDate":"2022-09-13T08:24:58.793043Z"},{"id":"8e67c705-619b-4a00-9302-3c622687c215","name":"string","stock":30,"price":350,"createdDate":"2022-09-13T08:24:58.792932Z"}]}
2023-02-26 14:18:27.689 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7275/api/Products - - - 200 - application/json;+charset=utf-8 596.0441ms
2023-02-26 14:26:50.109 +04:00 [INF] User profile is available. Using 'C:\Users\vusal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-02-26 14:26:50.443 +04:00 [INF] Now listening on: https://localhost:7275
2023-02-26 14:26:50.445 +04:00 [INF] Now listening on: http://localhost:5275
2023-02-26 14:26:50.452 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-26 14:26:50.453 +04:00 [INF] Hosting environment: Development
2023-02-26 14:26:50.457 +04:00 [INF] Content root path: C:\Users\vusal\source\repos\E-CommercialAPI\E-CommercialAPI.API\
2023-02-26 14:26:51.091 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/swagger/index.html - -
2023-02-26 14:26:51.188 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Swashbuckle.AspNetCore.Swagger.ISwaggerProvider' while attempting to Invoke middleware 'Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware'.
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method2(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-02-26 14:26:52.413 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/swagger/index.html - - - 500 - text/html;+charset=utf-8 1327.4179ms
2023-02-26 14:26:52.515 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - -
2023-02-26 14:26:52.515 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/_vs/browserLink - -
2023-02-26 14:26:52.533 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 17.4493ms
2023-02-26 14:26:52.574 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.5671ms
2023-02-26 14:26:53.024 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7275/favicon.ico - -
2023-02-26 14:26:53.028 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Swashbuckle.AspNetCore.Swagger.ISwaggerProvider' while attempting to Invoke middleware 'Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware'.
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method2(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-02-26 14:26:53.043 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7275/favicon.ico - - - 500 - text/plain;+charset=utf-8 19.5688ms
